<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>PDO::errorCode</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Manuale PHP"
HREF="index.html"><LINK
REL="UP"
TITLE="PDO Functions"
HREF="ref.pdo.html"><LINK
REL="PREVIOUS"
TITLE="PDO::__construct"
HREF="function.pdo-construct.html"><LINK
REL="NEXT"
TITLE="PDO::errorInfo"
HREF="function.pdo-errorinfo.html"><META
HTTP-EQUIV="Content-type"
CONTENT="text/html; charset=UTF-8"></HEAD
><BODY
CLASS="refentry"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Manuale PHP</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="function.pdo-construct.html"
ACCESSKEY="P"
>Indietro</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="function.pdo-errorinfo.html"
ACCESSKEY="N"
>Avanti</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="function.PDO-errorCode"
></A
>PDO::errorCode</H1
><DIV
CLASS="refnamediv"
><A
NAME="AEN127649"
></A
><P
>    (no version information, might be only in CVS)</P
>PDO::errorCode&nbsp;--&nbsp;
     Fetch the SQLSTATE associated with the last operation on the database handle
    </DIV
><DIV
CLASS="refsect1"
><A
NAME="AEN127652"
></A
><H2
>Descrizione</H2
>int <B
CLASS="methodname"
>PDO::errorCode</B
> ( void  )<BR
></BR
></DIV
><DIV
CLASS="refsect1"
><A
NAME="AEN127658"
></A
><H2
>Valori restituiti</H2
><P
>&#13;     Returns a SQLSTATE, a five-character alphanumeric identifier defined in
     the ANSI SQL-92 standard.  Briefly, an SQLSTATE consists of a
     two-character class value followed by a three-character subclass value. A
     class value of 01 indicates a warning and is accompanied by a return code
     of SQL_SUCCESS_WITH_INFO. Class values other than '01', except for the
     class 'IM', indicate an error.  The class 'IM' is specific to warnings
     and errors that derive from the implementation of PDO (or perhaps ODBC,
     if you're using the ODBC driver) itself.  The subclass value '000' in any
     class indicates that there is no subclass for that SQLSTATE.
    </P
><P
>&#13;     <B
CLASS="function"
>PDO::errorCode()</B
> only retrieves error codes for operations
     performed directly on the database handle. If you create a PDOStatement
     object through <B
CLASS="function"
>PDO::prepare()</B
> or
     <B
CLASS="function"
>PDO::query()</B
> and invoke an error on the statement
     handle, <B
CLASS="function"
>PDO::errorCode()</B
> will not reflect that error.
     You must call <B
CLASS="function"
>PDOStatement::errorCode()</B
> to return the error
     code for an operation performed on a particular statement handle.
    </P
></DIV
><DIV
CLASS="refsect1"
><A
NAME="AEN127667"
></A
><H2
>Esempi</H2
><P
>&#13;     <TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="AEN127670"
></A
><P
><B
>Esempio 1. Retrieving a SQLSTATE code</B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#FF8000">/* Provoke an error -- the BONES table does not exist */<br /></font><font color="#0000BB">$dbh</font><font color="#007700">-&gt;</font><font color="#0000BB">exec</font><font color="#007700">(</font><font color="#DD0000">"INSERT INTO bones(skull) VALUES ('lucy')"</font><font color="#007700">);<br /><br />echo </font><font color="#DD0000">"\nPDO::errorCode(): "</font><font color="#007700">;<br />print </font><font color="#0000BB">$dbh</font><font color="#007700">-&gt;</font><font color="#0000BB">errorCode</font><font color="#007700">();<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD
></TR
></TABLE
><P
>Il precedente esempio visualizzer√†:</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="screen"
>PDO::errorCode(): 42S02</PRE
></TD
></TR
></TABLE
></DIV
></TD
></TR
></TABLE
>
    </P
></DIV
><DIV
CLASS="refsect1"
><A
NAME="AEN127675"
></A
><H2
>Vedere anche:</H2
><P
>&#13;     <P
></P
><TABLE
BORDER="0"
><TBODY
><TR
><TD
><B
CLASS="function"
>PDO::errorInfo()</B
></TD
></TR
><TR
><TD
><B
CLASS="function"
>PDOStatement::errorCode()</B
></TD
></TR
><TR
><TD
><B
CLASS="function"
>PDOStatement::errorInfo()</B
></TD
></TR
></TBODY
></TABLE
><P
></P
>
    </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="function.pdo-construct.html"
ACCESSKEY="P"
>Indietro</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Partenza</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="function.pdo-errorinfo.html"
ACCESSKEY="N"
>Avanti</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>PDO::__construct</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="ref.pdo.html"
ACCESSKEY="U"
>Risali</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>PDO::errorInfo</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>