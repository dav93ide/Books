<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>DomNode-&#62;append_child</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Manuale PHP"
HREF="index.html"><LINK
REL="UP"
TITLE="Funzioni DOM XML"
HREF="ref.domxml.html"><LINK
REL="PREVIOUS"
TITLE="DomNode->add_namespace"
HREF="function.domnode-add-namespace.html"><LINK
REL="NEXT"
TITLE="DomNode->append_sibling"
HREF="function.domnode-append-sibling.html"><META
HTTP-EQUIV="Content-type"
CONTENT="text/html; charset=UTF-8"></HEAD
><BODY
CLASS="refentry"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Manuale PHP</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="function.domnode-add-namespace.html"
ACCESSKEY="P"
>Indietro</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
></TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="function.domnode-append-sibling.html"
ACCESSKEY="N"
>Avanti</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><H1
><A
NAME="function.domnode-append-child"
></A
>DomNode-&#62;append_child</H1
><DIV
CLASS="refnamediv"
><A
NAME="AEN35966"
></A
><P
>    (no version information, might be only in CVS)</P
>DomNode-&#62;append_child&nbsp;--&nbsp;
     Accoda un nuovo figlio
    </DIV
><DIV
CLASS="refsect1"
><A
NAME="AEN35969"
></A
><H2
>Descrizione</H2
>domelement <B
CLASS="methodname"
>DomNode-&#62;append_child</B
> ( domelement newnode )<BR
></BR
><P
>&#13;     Questa funzione accoda un nodo figlio ad un elenco pre-esistente di figli oppure
     crea una nuova lista di figli. Il nodo figlio può essere creato con funzioni tipo
     <A
HREF="function.domdocument-create-element.html"
><B
CLASS="function"
>domdocument_create_element()</B
></A
>,
     <B
CLASS="function"
>domdocument_create_text()</B
> ecc. oppure usando un qualsiasi
     altro nodo.
    </P
><P
>&#13;     (PHP &#60; 4.3) Prima che sia aggiunto un nuovo nodo questo viene duplicato. Quindi
     il nuovo nodo è una nuova copia che può essere modificata senza variare il
     nodo passato alla funzione. Se il nodo ha dei nodi figli, anche
     questi saranno duplicati, ciò rende facile duplicare grandi parti
     di un documento XML. Il valore restituito è il nodo figlio
     accodato. Se si prevede di fare ulteriori modifiche al nodo aggiunto,
     occorre usare il nodo restituito.
    </P
><P
>&#13;     (PHP 4.3.0/4.3.1) Il nuovo nodo figlio <VAR
CLASS="parameter"
>nuovo_nodo</VAR
> viene prima rimosso
     dal contesto esistente, se ne è già un figlio di DomNode.
     Quindi viene mosso e non più copiato.
    </P
><P
>&#13;     (PHP &#62;= 4.3.2) Il nuovo nodo figlio <VAR
CLASS="parameter"
>nuovo_nodo</VAR
> viene prima rimosso
     dal contesto esistente, se ne esiste uno nel documento.
     Quindi viene mosso e non più copiato. Questo comportamento si attiene
     alle specifiche W3C. Se si desidera duplicare una grande parte di un documento 
     XML, occorre utilizzare DomNode-&#62;clone_node() prima di accodare il nodo.
    </P
><P
>&#13;     Nel seguente esempio si accoderà un nuovo nodo ad un documento
     e si imposterà l'attributo "align" a "left".
     <TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="AEN35986"
></A
><P
><B
>Esempio 1. Aggiunta di un nodo figlio</B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$doc </font><font color="#007700">= </font><font color="#0000BB">domxml_new_doc</font><font color="#007700">(</font><font color="#DD0000">"1.0"</font><font color="#007700">);<br /></font><font color="#0000BB">$node </font><font color="#007700">= </font><font color="#0000BB">$doc</font><font color="#007700">-&gt;</font><font color="#0000BB">create_element</font><font color="#007700">(</font><font color="#DD0000">"para"</font><font color="#007700">);<br /></font><font color="#0000BB">$newnode </font><font color="#007700">= </font><font color="#0000BB">$doc</font><font color="#007700">-&gt;</font><font color="#0000BB">append_child</font><font color="#007700">(</font><font color="#0000BB">$node</font><font color="#007700">);<br /></font><font color="#0000BB">$newnode</font><font color="#007700">-&gt;</font><font color="#0000BB">set_attribute</font><font color="#007700">(</font><font color="#DD0000">"align"</font><font color="#007700">, </font><font color="#DD0000">"left"</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD
></TR
></TABLE
></DIV
></TD
></TR
></TABLE
>
     L'esempio precedente può anche essere scritto:
     <TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="AEN35989"
></A
><P
><B
>Esempio 2. Aggiunta di un nodo figlio</B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php<br />$doc </font><font color="#007700">= </font><font color="#0000BB">domxml_new_doc</font><font color="#007700">(</font><font color="#DD0000">"1.0"</font><font color="#007700">);<br /></font><font color="#0000BB">$node </font><font color="#007700">= </font><font color="#0000BB">$doc</font><font color="#007700">-&gt;</font><font color="#0000BB">create_element</font><font color="#007700">(</font><font color="#DD0000">"para"</font><font color="#007700">);<br /></font><font color="#0000BB">$node</font><font color="#007700">-&gt;</font><font color="#0000BB">set_attribute</font><font color="#007700">(</font><font color="#DD0000">"align"</font><font color="#007700">, </font><font color="#DD0000">"left"</font><font color="#007700">);<br /></font><font color="#0000BB">$newnode </font><font color="#007700">= </font><font color="#0000BB">$doc</font><font color="#007700">-&gt;</font><font color="#0000BB">append_child</font><font color="#007700">(</font><font color="#0000BB">$node</font><font color="#007700">);<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD
></TR
></TABLE
></DIV
></TD
></TR
></TABLE
>
     Il seguente è un esempio più complesso. Prima cerca un dato elemento,
     quindi lo si duplica, compresi i suoi figli, lo si aggiunge come un fratello.
     Infine si aggiunge un attributo ad uno dei figli del nuovo nodo
     e quindi si scarica il documento.
     <TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="AEN35992"
></A
><P
><B
>Esempio 3. Aggiunta di un nodo figlio</B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#007700">include(</font><font color="#DD0000">"example.inc"</font><font color="#007700">);<br /><br />if (!</font><font color="#0000BB">$dom </font><font color="#007700">= </font><font color="#0000BB">domxml_open_mem</font><font color="#007700">(</font><font color="#0000BB">$xmlstr</font><font color="#007700">)) {<br />&nbsp;&nbsp;echo </font><font color="#DD0000">"Error while parsing the document\n"</font><font color="#007700">;<br />&nbsp;&nbsp;exit;<br />}<br /><br /></font><font color="#0000BB">$elements </font><font color="#007700">= </font><font color="#0000BB">$dom</font><font color="#007700">-&gt;</font><font color="#0000BB">get_elements_by_tagname</font><font color="#007700">(</font><font color="#DD0000">"informaltable"</font><font color="#007700">);<br /></font><font color="#0000BB">print_r</font><font color="#007700">(</font><font color="#0000BB">$elements</font><font color="#007700">);<br /></font><font color="#0000BB">$element </font><font color="#007700">= </font><font color="#0000BB">$elements</font><font color="#007700">[</font><font color="#0000BB">0</font><font color="#007700">];<br /><br /></font><font color="#0000BB">$parent </font><font color="#007700">= </font><font color="#0000BB">$element</font><font color="#007700">-&gt;</font><font color="#0000BB">parent_node</font><font color="#007700">();<br /></font><font color="#0000BB">$newnode </font><font color="#007700">= </font><font color="#0000BB">$parent</font><font color="#007700">-&gt;</font><font color="#0000BB">append_child</font><font color="#007700">(</font><font color="#0000BB">$element</font><font color="#007700">);<br /></font><font color="#0000BB">$children </font><font color="#007700">= </font><font color="#0000BB">$newnode</font><font color="#007700">-&gt;</font><font color="#0000BB">children</font><font color="#007700">();<br /></font><font color="#0000BB">$attr </font><font color="#007700">= </font><font color="#0000BB">$children</font><font color="#007700">[</font><font color="#0000BB">1</font><font color="#007700">]-&gt;</font><font color="#0000BB">set_attribute</font><font color="#007700">(</font><font color="#DD0000">"align"</font><font color="#007700">, </font><font color="#DD0000">"left"</font><font color="#007700">);<br /><br />echo </font><font color="#DD0000">"&lt;pre&gt;"</font><font color="#007700">;<br /></font><font color="#0000BB">$xmlfile </font><font color="#007700">= </font><font color="#0000BB">$dom</font><font color="#007700">-&gt;</font><font color="#0000BB">dump_mem</font><font color="#007700">();<br />echo </font><font color="#0000BB">htmlentities</font><font color="#007700">(</font><font color="#0000BB">$xmlfile</font><font color="#007700">);<br />echo </font><font color="#DD0000">"&lt;/pre&gt;"</font><font color="#007700">;<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD
></TR
></TABLE
></DIV
></TD
></TR
></TABLE
>
     L'esempio precedente può anche essere svolto con
     <A
HREF="function.domnode-insert-before.html"
><B
CLASS="function"
>domnode_insert_before()</B
></A
> invece di
     <A
HREF="function.domnode-append-child.html"
><B
CLASS="function"
>domnode_append_child()</B
></A
>.
    </P
><P
>&#13;     Vedere anche <A
HREF="function.domnode-insert-before.html"
><B
CLASS="function"
>domnode_insert_before()</B
></A
> e
     <A
HREF="function.domnode-clone-node.html"
><B
CLASS="function"
>domnode_clone_node()</B
></A
>.
    </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="function.domnode-add-namespace.html"
ACCESSKEY="P"
>Indietro</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Partenza</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="function.domnode-append-sibling.html"
ACCESSKEY="N"
>Avanti</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>DomNode-&#62;add_namespace</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="ref.domxml.html"
ACCESSKEY="U"
>Risali</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>DomNode-&#62;append_sibling</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>