<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>Qualcosa di utile</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="Manuale PHP"
HREF="index.html"><LINK
REL="UP"
TITLE="Una semplice introduzione"
HREF="tutorial.html"><LINK
REL="PREVIOUS"
TITLE="La prima pagina PHP"
HREF="tutorial.firstpage.html"><LINK
REL="NEXT"
TITLE="Trattare con i Form"
HREF="tutorial.forms.html"><META
HTTP-EQUIV="Content-type"
CONTENT="text/html; charset=UTF-8"></HEAD
><BODY
CLASS="sect1"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>Manuale PHP</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="tutorial.firstpage.html"
ACCESSKEY="P"
>Indietro</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Capitolo 2. Una semplice introduzione</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="tutorial.forms.html"
ACCESSKEY="N"
>Avanti</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="sect1"
><H1
CLASS="sect1"
><A
NAME="tutorial.useful"
>Qualcosa di utile</A
></H1
><P
>&#13;    Andiamo a fare qualcosa di leggermente più utile. Andremo a controllare
    che tipo di browser sta utilizzando la persona che visita le nostre pagine.
    Per fare questo si andrà a controllare la stringa dell'user agent che il browser
    invia come parte della richiesta HTTP. Quest'informazione viene inviata in una <A
HREF="language.variables.html"
>variabile</A
>. Le Variabili iniziano sempre
    con il simbolo di dollaro $ in PHP. La variabile alla quale ci riferiamo adesso
    è <VAR
CLASS="varname"
>$_SERVER["HTTP_USER_AGENT"]</VAR
>.
   </P
><DIV
CLASS="note"
><BLOCKQUOTE
CLASS="note"
><P
><B
>Note sulle variabili Autoglobali di PHP: </B
>
   <A
HREF="reserved.variables.html#reserved.variables.server"
>$_SERVER</A
> è una variabile
     speciale riservata a PHP la quale contiene tutte le informazioni relative al Web Server.
     È conosciuta come Variabile autoglobale (o Superglobale). Per maggiori informazioni
     è possibile vedere la pagina del manuale relativa alle 
     <A
HREF="language.variables.predefined.html#language.variables.superglobals"
>Variabili Autoglobali</A
>.
     Questo tipo di variabili sono state introdotte nella versione
     <A
HREF="http://www.php.net/release_4_1_0.php"
TARGET="_top"
>4.1.0</A
> di PHP. Nelle versioni precedenti abbiamo
     utilizzato le ormai vecchie <VAR
CLASS="varname"
>$HTTP_SERVER_VARS</VAR
>, oggi in disuso,
     anche se queste continuano ad esistere. (Potete guardare nelle note
     del <A
HREF="tutorial.oldcode.html"
>vecchio codice</A
>.)
    </P
></BLOCKQUOTE
></DIV
><P
>&#13;    Per visualizzare questa variabile, dobbiamo semplicemente:
   </P
><P
>&#13;    <TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="AEN250"
></A
><P
><B
>Esempio 2-2. Stampare video una variable (elemento d'Array)</B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php </font><font color="#007700">echo </font><font color="#0000BB">$_SERVER</font><font color="#007700">[</font><font color="#DD0000">"HTTP_USER_AGENT"</font><font color="#007700">]; </font><font color="#0000BB">?&gt;</font>
</font>
</code></TD
></TR
></TABLE
><P
>&#13;     L'output (risultato) di questo script potrebbe essere:
     <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="html"
>Mozilla/4.0 (compatible; MSIE 5.01; Windows NT 5.0)</PRE
></TD
></TR
></TABLE
>
    </P
></DIV
></TD
></TR
></TABLE
>
   </P
><P
>&#13;    Ci sono molti <A
HREF="language.types.html"
>types</A
> (tipi) di
    variabili disponibili in PHP.  Nell'esempio di sopra abbiamo stampato 
    un elemento di un <A
HREF="language.types.array.html"
>Array</A
>.
    Gli Array possono essere molto utili.
   </P
><P
>&#13;    <VAR
CLASS="varname"
>$_SERVER</VAR
> è soltanto una variabile che automaticamente
    viene resa diponibile da PHP.  È possibile visualizzare una lunga lista nella
    sezione <A
HREF="reserved.variables.html"
>Variabili riservate</A
> del manuale 
    oppure ottenere la lista completa creando un file php nella seguente
    forma:
   </P
><P
>&#13;    <TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="AEN262"
></A
><P
><B
>Esempio 2-3. Mostrare tutte le variabili predefinite di PHP con <A
HREF="function.phpinfo.html"
><B
CLASS="function"
>phpinfo()</B
></A
></B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php phpinfo</font><font color="#007700">(); </font><font color="#0000BB">?&gt;</font>
</font>
</code></TD
></TR
></TABLE
></DIV
></TD
></TR
></TABLE
>
   </P
><P
>&#13;    Se caricate questo documento da un browser riceverete una pagina
    piena d'informazioni circa PHP, così come la lista di tutte le
    variabili disponibili.
   </P
><P
>&#13;    Potete mettere dichiarazioni multipli di PHP all'interno di un tag di PHP e
    generare piccoli blocchi di codice che fanno di più di un singolo echo.
    Per esempio, se desiderassimo controllare per vedere se l'utente usa Internet
    Explorer potremmo fare qualcosa come questo: 
   </P
><P
>&#13;    <TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="AEN269"
></A
><P
><B
>Esempio 2-4. Esempi usando le <A
HREF="missing-stuff.html#control-structures"
>strutture di 
     controllo</A
> e le <A
HREF="missing-stuff.html#functions"
>funzioni</A
></B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#007700">if (</font><font color="#0000BB">strstr</font><font color="#007700">(</font><font color="#0000BB">$_SERVER</font><font color="#007700">[</font><font color="#DD0000">"HTTP_USER_AGENT"</font><font color="#007700">], </font><font color="#DD0000">"MSIE"</font><font color="#007700">)) {<br />&nbsp;&nbsp;&nbsp;&nbsp;echo </font><font color="#DD0000">"Stai usando Internet Explorer&lt;br /&gt;"</font><font color="#007700">;<br />}<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD
></TR
></TABLE
><P
>&#13;      L'output di esempio di questo script potrebbe essere:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="html"
>Stai usando Internet Explorer&#60;br /&#62;</PRE
></TD
></TR
></TABLE
>
     </P
></DIV
></TD
></TR
></TABLE
>
   </P
><P
>&#13;	Qui introduciamo una coppia di nuovi concetti. Abbiamo la dichiarazione
	<A
HREF="language.control-structures.html#control-structures.if"
>if</A
> (se). Se avete una conoscenza
	con la sintassi di base usata dal linguaggio C questo dovrebbe sembrare
	logico per voi. Se non conoscete abbastanza C od un altro linguaggio che
	utilizza la sintassi qui sopra descritta, dovreste probabilmente prendere
	qualsiasi libro introduttivo di PHP e leggere i primi capitoli, o leggere
	la parte del manuale relativa ai <A
HREF="langref.html"
>Riferimenti del
	Linguaggio</A
>. Potete trovare una lista dei libri di PHP
	su <A
HREF="http://www.php.net/books.php"
TARGET="_top"
>http://www.php.net/books.php</A
>.
   </P
><P
>&#13;	Il secondo concetto che abbiamo introdotto era la chiamata alla funzione
	<A
HREF="function.strstr.html"
><B
CLASS="function"
>strstr()</B
></A
>. Questa è una funzione sviluppata in PHP
	che cerca una stringa all'interno di un'altra stringa. In questo caso
	abbiamo cercato <VAR
CLASS="literal"
>"MSIE"</VAR
> all'interno della stringa
	<VAR
CLASS="varname"
>$_SERVER["HTTP_USER_AGENT"]</VAR
>. Se la stringa viene trovata,
	la funzione restituisce <TT
CLASS="constant"
><B
>TRUE</B
></TT
> altrimenti, <TT
CLASS="constant"
><B
>FALSE</B
></TT
>. Se restituisce <TT
CLASS="constant"
><B
>TRUE</B
></TT
>,
	la dichiarazione <A
HREF="language.control-structures.html#control-structures.if"
>if</A
> viene valuta
	come <TT
CLASS="constant"
><B
>TRUE</B
></TT
> ed il codice all'interno dei relativi {braces} (sostegni) sarà
	eseguito. Altrimenti, non esegue altro. Sentitevi liberi di generare esempi
	simili, con <A
HREF="language.control-structures.html#control-structures.if"
>if</A
>,
	<A
HREF="control-structures.else.html"
>else</A
> (altrimenti) ed altre
	funzioni quali <A
HREF="function.strtoupper.html"
><B
CLASS="function"
>strtoupper()</B
></A
> e <A
HREF="function.strlen.html"
><B
CLASS="function"
>strlen()</B
></A
>.
	Ogni pagina del manuale, relativa a queste funzioni contiene anche degli
	esempi pratici. 
   </P
><P
>&#13;    Possiamo fare un passo avanti e mostrarvi come potete entrare ed uscite dal modo
    PHP anche dall' interno di un blocco PHP:
   </P
><P
>&#13;    <TABLE
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
CLASS="EXAMPLE"
><TR
><TD
><DIV
CLASS="example"
><A
NAME="AEN295"
></A
><P
><B
>Esempio 2-5. Intercalare i modi PHP e HTML</B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><code><font color="#000000">
<font color="#0000BB">&lt;?php<br /></font><font color="#007700">if (</font><font color="#0000BB">strstr</font><font color="#007700">(</font><font color="#0000BB">$_SERVER</font><font color="#007700">[</font><font color="#DD0000">"HTTP_USER_AGENT"</font><font color="#007700">], </font><font color="#DD0000">"MSIE"</font><font color="#007700">)) {<br /></font><font color="#0000BB">?&gt;<br /></font>&lt;h3&gt;strstr dovrebbe ritornare true&lt;/h3&gt;<br />&lt;center&gt;&lt;b&gt;Stai usando Internet Explorer&lt;/b&gt;&lt;/center&gt;<br /><font color="#0000BB">&lt;?php<br /></font><font color="#007700">} else {<br /></font><font color="#0000BB">?&gt;<br /></font>&lt;h3&gt;strstr dovrebbe ritornare false&lt;/h3&gt;<br />&lt;center&gt;&lt;b&gt;Non stai usando Internet Explorer&lt;/b&gt;&lt;/center&gt;<br /><font color="#0000BB">&lt;?php<br /></font><font color="#007700">}<br /></font><font color="#0000BB">?&gt;</font>
</font>
</code></TD
></TR
></TABLE
><P
>&#13;      L'output di esempio di questo script potrebbe essere:
      <TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
CELLPADDING="5"
><TR
><TD
><PRE
CLASS="html"
>&#60;h3&#62;strstr dovrebbe ritornare true&#60;/h3&#62;
&#60;center&#62;&#60;b&#62;Stai usando Internet Explorer&#60;/b&#62;&#60;/center&#62;</PRE
></TD
></TR
></TABLE
>
     </P
></DIV
></TD
></TR
></TABLE
>
   </P
><P
>&#13;    Invece di usare la dichiarazione echo per fare l'output di qualcosa, saltiamo
    fuori dal modo PHP inviando soltanto HTML puro. Il punto importante da notare qui
    è che il flusso logico dello script rimane intatto. Solo uno dei blocchi di
    di HTML finirà per essere inviato come risposta, dipendendo se
    <A
HREF="function.strstr.html"
><B
CLASS="function"
>strstr()</B
></A
> ritorna <TT
CLASS="constant"
><B
>TRUE</B
></TT
> o <TT
CLASS="constant"
><B
>FALSE</B
></TT
>  in altre parole, 
    se la stringa <VAR
CLASS="literal"
>MSIE</VAR
> viene trovata o meno.
   </P
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="tutorial.firstpage.html"
ACCESSKEY="P"
>Indietro</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Partenza</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="tutorial.forms.html"
ACCESSKEY="N"
>Avanti</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>La prima pagina PHP</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="tutorial.html"
ACCESSKEY="U"
>Risali</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Trattare con i Form</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>